{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/form-field\";\nimport * as i5 from \"@angular/material/input\";\nimport * as i6 from \"@angular/forms\";\n\nfunction ReturnDetailDataComponent_h1_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r0.returnManagement.returnManagementName, \" Return\");\n  }\n}\n\nfunction ReturnDetailDataComponent_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵelementStart(1, \"em\");\n    i0.ɵɵtext(2, \"Loading...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ReturnDetailDataComponent_option_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const filter_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", filter_r5.categoryId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(filter_r5.name);\n  }\n}\n\nfunction ReturnDetailDataComponent_option_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const c_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", c_r6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", c_r6, \" \");\n  }\n}\n\nfunction ReturnDetailDataComponent_table_29_tr_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelementStart(4, \"a\", 18);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵelementStart(17, \"select\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function ReturnDetailDataComponent_table_29_tr_20_Template_select_ngModelChange_17_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const client_r8 = restoredCtx.$implicit;\n      return client_r8.filed = $event;\n    })(\"change\", function ReturnDetailDataComponent_table_29_tr_20_Template_select_change_17_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const client_r8 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return ctx_r11.onFiledChange(client_r8.client.clientId, $event);\n    });\n    i0.ɵɵelementStart(18, \"option\", 20);\n    i0.ɵɵtext(19, \"No\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"option\", 5);\n    i0.ɵɵtext(21, \"Yes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const client_r8 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(client_r8.client.serialNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"href\", \"client-detail/\", client_r8.client.clientId, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(client_r8.client.clientName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(client_r8.client.companyName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(client_r8.client.categoryName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(client_r8.client.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(client_r8.client.phoneNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(client_r8.client.business);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", client_r8.filed);\n  }\n}\n\nfunction ReturnDetailDataComponent_table_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 14);\n    i0.ɵɵelementStart(1, \"thead\");\n    i0.ɵɵelementStart(2, \"tr\");\n    i0.ɵɵelementStart(3, \"th\", 15);\n    i0.ɵɵtext(4, \"Serial Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\", 15);\n    i0.ɵɵtext(6, \"Client Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\", 15);\n    i0.ɵɵtext(8, \"Company Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\", 15);\n    i0.ɵɵtext(10, \"Category\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\", 16);\n    i0.ɵɵtext(12, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\", 15);\n    i0.ɵɵtext(14, \"Phone Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\", 15);\n    i0.ɵɵtext(16, \"Business#\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"th\", 15);\n    i0.ɵɵtext(18, \"Filed\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"tbody\");\n    i0.ɵɵtemplate(20, ReturnDetailDataComponent_table_29_tr_20_Template, 22, 9, \"tr\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(20);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.returnManagement.clientReturns);\n  }\n}\n\nconst _c0 = function () {\n  return [\"../../return-view\"];\n};\n\nexport let ReturnDetailDataComponent = /*#__PURE__*/(() => {\n  class ReturnDetailDataComponent {\n    constructor(route, router, http, baseUrl) {\n      this.route = route;\n      this.router = router;\n      this.http = http;\n      this.categories = [];\n      this.hstPeriodDrownDown = [];\n      this.selectedCategoryId = \"all\";\n      this.selectedHstPeriod = \"all\";\n      this.selectedFiledStatus = \"false\";\n      this.baseUrl = baseUrl;\n    }\n\n    ngOnInit() {\n      this.id = this.route.snapshot.params['id'];\n      this.http.get(this.baseUrl + 'weatherforecast/categories').subscribe(result => {\n        this.categories = result;\n      }, error => console.error(error));\n      this.getReleaseManagement();\n      this.http.get(this.baseUrl + 'weatherforecast/hst-period').subscribe(result => {\n        this.hstPeriodDrownDown = result;\n      }, error => console.error(error));\n    }\n\n    getReleaseManagement() {\n      this.http.get(this.baseUrl + `weatherforecast/return-detail/${this.id}`).subscribe(result => {\n        this.returnManagement = result;\n        this.returnManagement.clientReturns = this.returnManagement.clientReturns.filter(function (el) {\n          return el.filed == \"false\";\n        });\n        console.log(this.id);\n        console.log(result);\n      }, error => console.error(error));\n    }\n\n    onFiledChange(clientId, event) {\n      this.http.get(this.baseUrl + `weatherforecast/return-detail-filed-edit/${this.id}/client/${clientId}/filed/${event.target.value}`).subscribe(result => {\n        //this.getReleaseManagement();\n        this.filter();\n      }, error => console.error(error));\n    }\n\n    filterFiledStatus(event) {\n      this.selectedFiledStatus = event.target.value;\n      this.filter(); //if (event.target.value == \"all\") {\n      //  this.http.get<ReturnManagement>(this.baseUrl + `weatherforecast/return-detail/${this.id}`)\n      //    .subscribe(result => {\n      //      this.returnManagement = result;\n      //    }, error => console.error(error));\n      //}\n      //else if (event.target.value == \"false\") {\n      //  this.getReleaseManagement();\n      //}\n      //else {\n      //  this.http.get<ReturnManagement>(this.baseUrl + `weatherforecast/return-detail/${this.id}`)\n      //    .subscribe(result => {\n      //      this.returnManagement = result;\n      //      this.returnManagement.clientReturns = this.returnManagement.clientReturns.filter(function (el) {\n      //        return el.filed == \"true\"\n      //      })\n      //      console.log(this.id)\n      //      console.log(result)\n      //    }, error => console.error(error));\n      //}\n    }\n\n    filterCategoryChange(event) {\n      this.selectedCategoryId = event.target.value;\n      this.filter();\n      console.log(this.selectedCategoryId);\n    }\n\n    filterHstPeriod(event) {\n      this.selectedHstPeriod = event.target.value;\n      this.filter();\n      console.log(this.selectedHstPeriod);\n    }\n\n    filter() {\n      this.http.get(this.baseUrl + 'weatherforecast/return-fitler/' + this.id + '?categoryName=' + this.selectedCategoryId + '&hstPeriod=' + this.selectedHstPeriod + '&filedStatus=' + this.selectedFiledStatus).subscribe(result => {\n        this.returnManagement = result;\n        console.log(this.selectedFiledStatus);\n\n        if (this.selectedFiledStatus == \"false\") {\n          this.returnManagement.clientReturns = this.returnManagement.clientReturns.filter(function (el) {\n            return el.filed == \"false\";\n          });\n        } else if (this.selectedFiledStatus == \"true\") {\n          this.returnManagement.clientReturns = this.returnManagement.clientReturns.filter(function (el) {\n            return el.filed == \"true\";\n          });\n        }\n\n        console.log(this.returnManagement);\n      }, error => console.error(error));\n    }\n\n    generateExcel() {\n      this.http.get(this.baseUrl + 'weatherforecast/generate-excel/' + this.id).subscribe(result => {\n        console.log(result);\n      }, error => console.error(error));\n    }\n\n  }\n\n  ReturnDetailDataComponent.ɵfac = function ReturnDetailDataComponent_Factory(t) {\n    return new (t || ReturnDetailDataComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject('BASE_URL'));\n  };\n\n  ReturnDetailDataComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ReturnDetailDataComponent,\n    selectors: [[\"app-fetch-data\"]],\n    decls: 32,\n    vars: 7,\n    consts: [[\"id\", \"tableLabel\", 4, \"ngIf\"], [4, \"ngIf\"], [2, \"width\", \"200px\", \"margin-left\", \"10px\"], [\"matNativeControl\", \"\", \"name\", \"clientStatus\", 3, \"change\"], [\"value\", \"all\"], [\"value\", \"true\"], [\"value\", \"false\", \"selected\", \"\"], [\"matNativeControl\", \"\", \"name\", \"categories\", 3, \"change\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [2, \"margin-left\", \"15px\", 3, \"click\"], [\"class\", \"table table-striped\", \"aria-labelledby\", \"tableLabel\", 4, \"ngIf\"], [1, \"btn\", \"btn-sm\", \"btn-success\", \"mb-2\", 3, \"routerLink\"], [\"id\", \"tableLabel\"], [3, \"value\"], [\"aria-labelledby\", \"tableLabel\", 1, \"table\", \"table-striped\"], [2, \"width\", \"10%\"], [2, \"width\", \"15%\"], [4, \"ngFor\", \"ngForOf\"], [3, \"href\"], [\"id\", \"status\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"value\", \"false\"]],\n    template: function ReturnDetailDataComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ReturnDetailDataComponent_h1_0_Template, 2, 1, \"h1\", 0);\n        i0.ɵɵtemplate(1, ReturnDetailDataComponent_p_1_Template, 3, 0, \"p\", 1);\n        i0.ɵɵelementStart(2, \"div\");\n        i0.ɵɵelementStart(3, \"mat-form-field\", 2);\n        i0.ɵɵelementStart(4, \"mat-label\");\n        i0.ɵɵtext(5, \" Filter Filed Status \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"select\", 3);\n        i0.ɵɵlistener(\"change\", function ReturnDetailDataComponent_Template_select_change_6_listener($event) {\n          return ctx.filterFiledStatus($event);\n        });\n        i0.ɵɵelementStart(7, \"option\", 4);\n        i0.ɵɵtext(8, \" All \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"option\", 5);\n        i0.ɵɵtext(10, \" Yes \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"option\", 6);\n        i0.ɵɵtext(12, \" No \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"mat-form-field\", 2);\n        i0.ɵɵelementStart(14, \"mat-label\");\n        i0.ɵɵtext(15, \" Filter Categories \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"select\", 7);\n        i0.ɵɵlistener(\"change\", function ReturnDetailDataComponent_Template_select_change_16_listener($event) {\n          return ctx.filterCategoryChange($event);\n        });\n        i0.ɵɵelementStart(17, \"option\", 4);\n        i0.ɵɵtext(18, \" All \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(19, ReturnDetailDataComponent_option_19_Template, 2, 2, \"option\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"mat-form-field\", 2);\n        i0.ɵɵelementStart(21, \"mat-label\");\n        i0.ɵɵtext(22, \" Filter HST Period \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"select\", 7);\n        i0.ɵɵlistener(\"change\", function ReturnDetailDataComponent_Template_select_change_23_listener($event) {\n          return ctx.filterHstPeriod($event);\n        });\n        i0.ɵɵelementStart(24, \"option\", 4);\n        i0.ɵɵtext(25, \" All \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(26, ReturnDetailDataComponent_option_26_Template, 2, 2, \"option\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function ReturnDetailDataComponent_Template_button_click_27_listener() {\n          return ctx.generateExcel();\n        });\n        i0.ɵɵtext(28, \"Export To Excel\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(29, ReturnDetailDataComponent_table_29_Template, 21, 1, \"table\", 10);\n        i0.ɵɵelementStart(30, \"a\", 11);\n        i0.ɵɵtext(31, \"Back\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.returnManagement);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.returnManagement);\n        i0.ɵɵadvance(18);\n        i0.ɵɵproperty(\"ngForOf\", ctx.categories);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.hstPeriodDrownDown);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.returnManagement);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(6, _c0));\n      }\n    },\n    directives: [i3.NgIf, i4.MatFormField, i4.MatLabel, i5.MatInput, i6.NgSelectOption, i6.ɵNgSelectMultipleOption, i3.NgForOf, i1.RouterLinkWithHref, i6.SelectControlValueAccessor, i6.NgControlStatus, i6.NgModel],\n    encapsulation: 2\n  });\n  return ReturnDetailDataComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}